<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Verify Account</title>
</head>

<body>
    <h2>Account Verification</h2>
    <p id="status">Verifying...</p>

    <script>
        // Get the token from the URL query string
        const params = new URLSearchParams(window.location.search);
        const token = params.get('token');

        if (!token) {
            document.getElementById('status').innerText = 'No token found in URL.';
        } else {
            // Call your backend verification endpoint
            fetch(`http://localhost:5000/api/auth/verify`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ token })
            })
                .then(res => res.json())
                .then(data => {
                    document.getElementById('status').innerText = data.message;
                })
                .catch(err => {
                    document.getElementById('status').innerText = 'Error verifying account.';
                    console.error(err);
                });
        }
    </script>
</body>

</html>